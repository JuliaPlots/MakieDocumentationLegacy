<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Legend · Makie Plotting Ecosystem</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/><link href="../assets/syntaxtheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="Makie Plotting Ecosystem logo"/></a><div class="docs-package-name"><span class="docs-autofit">Makie Plotting Ecosystem</span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Home</a></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="../basic-tutorial.html">Basic Tutorial</a></li><li><a class="tocitem" href="tutorial.html">Layout Tutorial</a></li><li><a class="tocitem" href="../animation.html">Animations</a></li><li><a class="tocitem" href="../interaction.html">Observables &amp; Interaction</a></li><li><a class="tocitem" href="../plotting_functions.html">Plotting Functions</a></li><li><a class="tocitem" href="../theming.html">Theming</a></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="../plot_method_signatures.html">Plot Method Signatures</a></li><li><a class="tocitem" href="../figure.html">Figure</a></li><li><a class="tocitem" href="laxis.html">Axis</a></li><li><a class="tocitem" href="grids.html">GridLayout</a></li><li class="is-active"><a class="tocitem" href="llegend.html">Legend</a><ul class="internal"><li><a class="tocitem" href="#Creating-A-Legend-From-Elements"><span>Creating A Legend From Elements</span></a></li><li><a class="tocitem" href="#Creating-A-Legend-From-An-Axis"><span>Creating A Legend From An Axis</span></a></li><li><a class="tocitem" href="#Multi-Bank-Legend"><span>Multi-Bank Legend</span></a></li><li><a class="tocitem" href="#Legend-Inside-An-Axis"><span>Legend Inside An Axis</span></a></li><li><a class="tocitem" href="#Creating-Legend-Entries-Manually"><span>Creating Legend Entries Manually</span></a></li><li><a class="tocitem" href="#Horizontal-Legend"><span>Horizontal Legend</span></a></li><li><a class="tocitem" href="#Multi-Group-Legends"><span>Multi-Group Legends</span></a></li></ul></li><li><a class="tocitem" href="layoutables_examples.html">Layoutables &amp; Widgets</a></li><li><a class="tocitem" href="layouting.html">How Layouting Works</a></li><li><a class="tocitem" href="../generated/colors.html">Colors</a></li><li><a class="tocitem" href="../generated/plot-attributes.html">Plot attributes</a></li><li><a class="tocitem" href="../recipes.html">Plot Recipes</a></li><li><a class="tocitem" href="../backends_and_output.html">Backends &amp; Output</a></li><li><a class="tocitem" href="../scenes.html">Scenes</a></li><li><a class="tocitem" href="../lighting.html">Lighting</a></li><li><a class="tocitem" href="../cameras.html">Cameras</a></li><li><a class="tocitem" href="../faq.html">Frequently Asked Questions</a></li><li><a class="tocitem" href="../abstractplotting_api.html">API Reference AbstractPlotting</a></li><li><a class="tocitem" href="reference.html">API Reference MakieLayout</a></li><li><a class="tocitem" href="../generated/axis.html">Integrated Axes (Axis2D / Axis3D)</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Documentation</a></li><li class="is-active"><a href="llegend.html">Legend</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="llegend.html">Legend</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaPlots/AbstractPlotting.jl/blob/master/docs/src/makielayout/llegend.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Creating-A-Legend-From-Elements"><a class="docs-heading-anchor" href="#Creating-A-Legend-From-Elements">Creating A Legend From Elements</a><a id="Creating-A-Legend-From-Elements-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-A-Legend-From-Elements" title="Permalink"></a></h2><p>You can create a basic Legend by passing a vector of legend entries and a vector of labels, plus an optional title as the third argument.</p><p>The elements in the vector of legend entries can either be plot objects or LegendElements like LineElement, MarkerElement and PolyElement. Or they can be vectors of such objects that will be layered together as one.</p><pre><code class="language-julia">using CairoMakie

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)

xs = 0:0.5:10
ys = sin.(xs)
lin = lines!(ax, xs, ys, color = :blue)
sca = scatter!(ax, xs, ys, color = :red, markersize = 15)

leg = Legend(scene, [lin, sca, [lin, sca]], [&quot;a line&quot;, &quot;some dots&quot;, &quot;both together&quot;])
layout[1, 2] = leg</code></pre><p><img src="example_legend.svg" alt="example legend"/></p><h2 id="Creating-A-Legend-From-An-Axis"><a class="docs-heading-anchor" href="#Creating-A-Legend-From-An-Axis">Creating A Legend From An Axis</a><a id="Creating-A-Legend-From-An-Axis-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-A-Legend-From-An-Axis" title="Permalink"></a></h2><p>You can also create a Legend by passing it an axis object, like <code>Axis</code>, <code>LScene</code> or <code>Scene</code>. All plots that have a <code>label</code> attribute set will be put into the legend, in the order that they appear in the axis, and you can optionally pass a title as the third argument.</p><pre><code class="language-julia">using CairoMakie

f = Figure()

ax = f[1, 1] = Axis(f)

lines!(0..15, sin, label = &quot;sin&quot;, color = :blue)
lines!(0..15, cos, label = &quot;cos&quot;, color = :red)
lines!(0..15, x -&gt; -cos(x), label = &quot;-cos&quot;, color = :green)

f[1, 2] = Legend(f, ax, &quot;Trig Functions&quot;, framevisible = false)</code></pre><p><img src="example_legend_from_axis.svg" alt="example legend from axis"/></p><h2 id="Multi-Bank-Legend"><a class="docs-heading-anchor" href="#Multi-Bank-Legend">Multi-Bank Legend</a><a id="Multi-Bank-Legend-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Bank-Legend" title="Permalink"></a></h2><p>You can control the number of banks with the <code>nbanks</code> attribute. Banks are columns when in vertical mode, and rows when in horizontal mode.</p><pre><code class="language-julia">using CairoMakie

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)

xs = 0:0.1:10
lins = [lines!(ax, xs, sin.(xs .+ 3v), color = RGBf0(v, 0, 1-v)) for v in 0:0.1:1]

leg = Legend(scene, lins, string.(1:length(lins)), nbanks = 3)
layout[1, 2] = leg</code></pre><p><img src="example_legend_ncols.svg" alt="example legend ncols"/></p><h2 id="Legend-Inside-An-Axis"><a class="docs-heading-anchor" href="#Legend-Inside-An-Axis">Legend Inside An Axis</a><a id="Legend-Inside-An-Axis-1"></a><a class="docs-heading-anchor-permalink" href="#Legend-Inside-An-Axis" title="Permalink"></a></h2><p>The <code>axislegend</code> function is a quick way to add a legend to an Axis. You can pass a selected axis plus arguments which are forwarded to the <code>Legend</code> constructor, or the current axis is used by default. If you pass only a string, it&#39;s used as the title with the current axis.</p><p>The position can be set via a shortcut symbol, first halign (l, r, c) then valign (b, t, c), such as :lt for left, top and :cb for center bottom.</p><pre><code class="language-julia">using CairoMakie

f = Figure(resolution = (800, 600))

ax = Axis(f[1, 1])

sc1 = scatter!(randn(10, 2), color = :red, label = &quot;Red Dots&quot;)
sc2 = scatter!(randn(10, 2), color = :blue, label = &quot;Blue Dots&quot;)
scatter!(randn(10, 2), color = :orange, label = &quot;Orange Dots&quot;)
scatter!(randn(10, 2), color = :cyan, label = &quot;Cyan Dots&quot;)

axislegend()

axislegend(&quot;Titled Legend&quot;, position = :lb)

axislegend(ax, [sc1, sc2], [&quot;One&quot;, &quot;Two&quot;], &quot;Selected Dots&quot;, position = :rb,
    orientation = :horizontal)</code></pre><p><img src="example_axislegend.svg" alt="example axislegend"/></p><p>Alternatively, you can simply add a Legend to the same layout slot that an axis lives in. As long as the axis is bigger than the legend you can set the legend&#39;s <code>tellheight</code> and <code>tellwidth</code> to <code>false</code> and position it using the align variables. You can use the margin keyword to keep the legend from touching the axis spines.</p><pre><code class="language-julia">using CairoMakie

haligns = [:left, :right, :center]
valigns = [:top, :bottom, :center]

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)

xs = 0:0.1:10
lins = [lines!(ax, xs, sin.(xs .* i), color = color)
    for (i, color) in zip(1:3, [:red, :blue, :green])]

legends = [Legend(
        scene, lins, [&quot;Line $i&quot; for i in 1:3],
        &quot;$ha &amp; $va&quot;,
        tellheight = false,
        tellwidth = false,
        margin = (10, 10, 10, 10),
        halign = ha, valign = va, orientation = :horizontal
    ) for (j, ha, va) in zip(1:3, haligns, valigns)]


for leg in legends
    layout[1, 1] = leg
end</code></pre><p><img src="example_legend_alignment.svg" alt="example legend alignment"/></p><h2 id="Creating-Legend-Entries-Manually"><a class="docs-heading-anchor" href="#Creating-Legend-Entries-Manually">Creating Legend Entries Manually</a><a id="Creating-Legend-Entries-Manually-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Legend-Entries-Manually" title="Permalink"></a></h2><p>Sometimes you might want to construct legend entries from scratch to have maximum control. So far you can use <code>LineElement</code>s, <code>MarkerElement</code>s or <code>PolyElement</code>s. Some attributes that can&#39;t have a meaningful preset and would usually be inherited from plot objects (like color) have to be explicitly specified. Others are inherited from the legend if they are not specified. These include marker arrangement for <code>MarkerElement</code>s or poly shape for <code>PolyElement</code>s. You can check the list using this function:</p><pre><code class="language-julia">using AbstractPlotting
MakieLayout.attributenames(LegendEntry)</code></pre><pre class="documenter-example-output">(:label, :labelsize, :labelfont, :labelcolor, :labelhalign, :labelvalign, :patchsize, :patchstrokecolor, :patchstrokewidth, :patchcolor, :linepoints, :markerpoints, :markersize, :markerstrokewidth, :linewidth, :polypoints, :polystrokewidth)</pre><pre><code class="language-julia">using CairoMakie

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)


elem_1 = [LineElement(color = :red, linestyle = nothing),
          MarkerElement(color = :blue, marker = &#39;x&#39;, strokecolor = :black)]

elem_2 = [PolyElement(color = :red, strokecolor = :blue),
          LineElement(color = :black, linestyle = :dash)]

elem_3 = LineElement(color = :green, linestyle = nothing,
        linepoints = Point2f0[(0, 0), (0, 1), (1, 0), (1, 1)])

elem_4 = MarkerElement(color = :blue, marker = &#39;π&#39;,
        strokecolor = :transparent,
        markerpoints = Point2f0[(0.2, 0.2), (0.5, 0.8), (0.8, 0.2)])

elem_5 = PolyElement(color = :green, strokecolor = :black,
        polypoints = Point2f0[(0, 0), (1, 0), (0, 1)])


leg = layout[1, 2] = Legend(scene,
    [elem_1, elem_2, elem_3, elem_4, elem_5],
    [&quot;Line &amp; Marker&quot;, &quot;Poly &amp; Line&quot;, &quot;Line&quot;, &quot;Marker&quot;, &quot;Poly&quot;],
    patchsize = (35, 35))</code></pre><p><img src="example_legend_entries.svg" alt="example legend entries"/></p><h2 id="Horizontal-Legend"><a class="docs-heading-anchor" href="#Horizontal-Legend">Horizontal Legend</a><a id="Horizontal-Legend-1"></a><a class="docs-heading-anchor-permalink" href="#Horizontal-Legend" title="Permalink"></a></h2><p>In case you want the legend entries to be listed horizontally, set the <code>orientation</code> attribute to <code>:horizontal</code>. In this case the <code>nbanks</code> attribute refers to the number of rows instead of columns. To keep an adjacent axis from potentially shrinking to the width of the horizontal legend, set <code>tellwidth = false</code> and <code>tellheight = true</code> if you place the legend below or above the axis.</p><pre><code class="language-julia">using CairoMakie

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)

xs = 0:0.5:10
ys = sin.(xs)
lin = lines!(ax, xs, ys, color = :blue)
sca = scatter!(ax, xs, ys, color = :red, markersize = 15)

leg = Legend(scene, [lin, sca, lin], [&quot;a line&quot;, &quot;some dots&quot;, &quot;line again&quot;])
layout[1, 2] = leg

leg_horizontal = Legend(scene, [lin, sca, lin], [&quot;a line&quot;, &quot;some dots&quot;, &quot;line again&quot;],
    orientation = :horizontal, tellwidth = false, tellheight = true)
layout[2, 1] = leg_horizontal</code></pre><p><img src="example_legend_horizontal.svg" alt="example legend horizontal"/></p><h2 id="Multi-Group-Legends"><a class="docs-heading-anchor" href="#Multi-Group-Legends">Multi-Group Legends</a><a id="Multi-Group-Legends-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Group-Legends" title="Permalink"></a></h2><p>Sometimes a legend consists of multiple groups, for example in a plot where both marker size and color are varied and those properties need to be visualized separately, but still together in one legend. Each group&#39;s content is given as an array of elements and an array of labels, each within one collective array. You can shift the position of the titles relative to each group with the <code>titleposition</code> attribute, either <code>:left</code> or <code>:top</code>.</p><pre><code class="language-julia">using CairoMakie

scene, layout = layoutscene(resolution = (1400, 900))

ax = layout[1, 1] = Axis(scene)

markersizes = [5, 10, 15, 20]
colors = [:red, :green, :blue, :orange]

for ms in markersizes, color in colors
    scatter!(ax, randn(5, 2), markersize = ms, color = color)
end

group_size = [MarkerElement(marker = :circle, color = :black, strokecolor = :transparent,
    markersize = ms) for ms in markersizes]

group_color = [PolyElement(color = color, strokecolor = :transparent)
    for color in colors]

legends = [Legend(scene,
    [group_size, group_color],
    [string.(markersizes), string.(colors)],
    [&quot;Size&quot;, &quot;Color&quot;]) for _ in 1:6]

layout[1, 2:4] = legends[1:3]
layout[2:4, 1] = legends[4:6]

for l in legends[4:6]
    l.orientation = :horizontal
    l.tellheight = true
    l.tellwidth = false
end

legends[2].titleposition = :left
legends[5].titleposition = :left

legends[3].nbanks = 2
legends[5].nbanks = 2
legends[6].nbanks = 2

scene</code></pre><p><img src="example_multilegend.svg" alt="example multilegend"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="grids.html">« GridLayout</a><a class="docs-footer-nextpage" href="layoutables_examples.html">Layoutables &amp; Widgets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 8 March 2021 18:28">Monday 8 March 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
